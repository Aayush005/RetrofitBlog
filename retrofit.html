<!DOCTYPE html>
<html lang=en>
<head>

</head>
<body class="mt-3 pt-xl-5 pt-lg-5 pt-md-5 pt-sm-5 pt-4">

<!--Main Layout-->
<main>


<!--Grid row-->
<div class="row">

	<!-- Grid Column-->
    <div class="col-md-8 col-sm-12 col-12 mb-4">

    	<div class="card">
            <div class="card-header font-weight-bold">
                <h2><a><strong>Retrofit </strong></a></h2>
                <h6 class="grey-text">written Jan. 29, 2019</h6>
            </div>
    	<div class="card-body">

        
            
            <img class="card-img-top" src="C:\Users\dell\Desktop\mitchtabian\database\UntitledDiagram.JPEG.jpg" alt="Card image cap">
            
        
        

        <!--Excerpt-->
        <div class="excerpt mt-5">
            <p><p>Table of Contents:</p>
<ul>
<li><a href='#introduction'>Introduction</a></li>
<li><a href='#what-is-retrofit'>What is Retrofit?</a></li>

<li>
An Example:
<br>
<ol>

<li><a href='#dependencies'>Dependencies</a></li>
<li><a href='#permissions'>Permissions</a></li>
<li><a href='#Jsondata'>Json data</a></li>
<li><a href='#model'>Model</a></li>
<li><a href='#RetrofitInstance'>Retrofit Instance</a></li>
<li><a href='#endpoints'>Define the Endpoints</a></li>
<li><a href='#RecyclerviewAdapter'>Recyclerview Adapter</a></li>
<li><a href='#Layoutmanager'>Initialising the Recyclerview</a></li>

</ol>
<li><a href='#final-thoughts'>Final Thoughts</a></li>
</li>
</ul>
<br><br>

<h3 id='introduction'>Introduction</h3>
<br>
In this blog I'm gonna show you how to work with retrofit in android.<br><br><br>


<h3 id='what-is-retrofit'>What is Retrofit?</h3>
<br>
Retrofit is a type-safe HTTP client for Android and Java developed by Square.<br><br>
Using Retrofit we can easily translate the REST APIs to Java Interfaces. Retrofit can be used as the best alternative to Volley. Retrofit Uses OkHttp for making HTTP requests. Retrofit easily translates JSON or XML response to POJOâ€™s (Plain Old Java Objects).
<br><br><br>


<h3 id='dependencies'>Dependencies</h3>
<br>
Open build.gradle (Module:app) and add Retrofit, Gson, RecyclerView and CardView dependencies.
<br><br>
<script src="https://gist.github.com/Aayush005/39d48cefd1d967651f68952720a5e0b5.js"></script>
<br>
Make sure you have the latest dependencies. You can check them <a href="https://square.github.io/retrofit/">here</a>
<br><br><br>


<h3 id='permissions'>Permissions</h3>
<br>
Add the internet permission in your AndroidManifest.xml<br><br>
<script src="https://gist.github.com/Aayush005/0c4f18bc82a3643bd83f3917e50ba76e.js"></script>
<br><br><br>


<h3 id='Jsondata'>Json data</h3>
<br>
Now we will use sample JSON data from <a href="https://jsonplaceholder.typicode.com/posts">https://jsonplaceholder.typicode.com/posts</a><br><br> which looks like this<br><br>
<script src="https://gist.github.com/Aayush005/d4aec148f9e6eabb8f9baecc6ef927f6.js"></script>
<br><br><br>


<h3 id='model'>Model</h3>
<br>
Make a model class Posts.java and put the following code inside it.<br><br>
<script src="https://gist.github.com/Aayush005/8a7a60097c4761efeec06064584f2e80.js"></script>

<br><br>
Posts class has fields that represent the post title and body of a post. These fields are annotated with the @SerializedName annotation. The parameter (value) of this annotation is the name to be used when serialising and deserialising objects. For example, the Java field title is represented as name in JSON.
<br><br>
Later we've set getter and setter for all the variables.
<br><br><br>


<h3 id='RetrofitInstance'>Retrofit Instance</h3>
<br>
To issue network requests to a REST API with Retrofit, we need to create an instance using the RetrofitClientInstance class and configure it with a base URL.

Create a class RetrofitClientInstance.java, here with the URL of our API we will make a call.
<br><br>

<script src="https://gist.github.com/Aayush005/6d568b0b79e2ca2f1c7b35fa3775c982.js"></script>
<br><br><br>


<h3 id='endpoints'>Define the Endpoints</h3>
<br>

<img class="card-img-top" src="C:\Users\dell\Desktop\mitchtabian\database\endpoints.jpg" alt="Card image cap"><br><br>
Here we will provide the details about the parameters and request method.
<br><br>
<script src="https://gist.github.com/Aayush005/9a636d2d74d1bdb3cc29ffb666a1f0ce.js"></script>
<br><br><br>


<h3 id='RecyclerviewAdapter'>Recyclerview Adapter</h3>
<br>
Now we will create the Adapter class for our recyclerview. Create a class RecyclerviewAdapter.java and paste the following code in it.
<script src="https://gist.github.com/Aayush005/3fbded1d51d215095893881ddab84609.js"></script>
<br><br><br>


<h3 id='Layoutmanager'>Initialising the Recyclerview</h3>
<br>

Finally, we will initialize the Endpoints interface and  the Recyclerview in the MainActivity.<br><br>
<script src="https://gist.github.com/Aayush005/258cc44255c0fffd7e8df367088d473e.js"></script>
<br><br><br>

That's All! Happy Coding!
<br><br><br>


The complete code is available <a href="https://github.com/Aayush005/RetrofitMitchTabian" target="_blank">here</a>.
<br><br><br>



<h3 id='final-thoughts'>Final Thoughts</h3>
<br>
One of the most important aspect about retrofit is the hassle free setup provided by retrofit to integrate different converters used for data serialisation. You can add gson converters, xml converters or even custom converters.
<br><br>
<strong>Need some extra help?</strong>.
<br>
Check out the videos on my youtube channel <a href="https://www.youtube.com/channel/UCoNZZLhPuuRteu02rh7bzsw" target="_blank">here</a>.
<br><br><br>





</body>
</html>